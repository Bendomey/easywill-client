{"version":3,"sources":["../../../../src/stack/src/StackingContext.js","../../../../src/stack/src/Stack.js","../../../src/lib/prevent-body-scroll.js","../../../src/lib/safe-invoke.js","../../../../src/overlay/src/Overlay.js","../../../../src/side-sheet/src/SheetClose.js","../../../../src/side-sheet/src/SideSheet.js"],"names":["React","StackingOrder","Stack","this","children","value","previousValue","currentValue","Math","nextValue","PureComponent","PropTypes","number","STACKING_CONTEXT","safeInvoke","fn","args","animationEasing","fadeInAnimation","from","opacity","to","fadeOutAnimation","Overlay","requestAnimationFrame","document","autofocusElement","wrapperElement","buttonElement","isFocusInsideModal","e","exiting","preventScroll","width","previousOverflow","scrollBarWidth","previousPaddingRight","preventBodyScroll","node","exited","ref","props","isShown","prevProps","theme","containerProps","OVERLAY","zIndex","appear","unmountOnExit","timeout","in","onExit","onExiting","onExited","onEnter","onEntering","onEntered","handleEntered","state","onClick","innerRef","position","top","left","right","bottom","data-state","className","cx","css","backgroundColor","display","height","content","animation","close","Component","preventBodyScrolling","shouldCloseOnClick","shouldCloseOnEscapePress","onBeforeClose","isRequired","onHide","withTheme","sharedStyles","padding","borderRadius","cursor","transition","withAnimations","animateIn","animateOut","sheetCloseStyles","Position","marginLeft","marginTop","transform","marginRight","marginBottom","sheetCloseClassNameCache","getSheetCloseClassName","SheetClose","alignItems","justifyContent","color","Box","propTypes","isClosing","bool","paneProps","maxWidth","maxHeight","subpaneProps","animationStylesClass","SideSheet","onOpenComplete","onCloseComplete","shouldCloseOnOverlayClick","elevation","overflowY","RIGHT"],"mappings":"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","file":"static/js/0.fcdd6318.chunk.js","sourcesContent":["import React from 'react'\nimport { StackingOrder } from '../../constants'\n\n/**\n * Context used to manage the layering of z-indexes of components.\n */\nconst StackingContext = React.createContext(StackingOrder.STACKING_CONTEXT)\nexport default StackingContext\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport { StackingOrder } from '../../constants'\nimport StackingContext from './StackingContext'\n\nexport default class Stack extends PureComponent {\n  static propTypes = {\n    /**\n     * Function that takes the current z-index and returns a React Node.\n     * (zIndex) => ReactNode.\n     */\n    children: PropTypes.func.isRequired,\n\n    /**\n     * Set the value of the stack. This will increment for children.\n     */\n    value: PropTypes.number\n  }\n\n  static defaultProps = {\n    value: StackingOrder.STACKING_CONTEXT\n  }\n\n  render() {\n    const { children, value } = this.props\n    return (\n      <StackingContext.Consumer>\n        {previousValue => {\n          const currentValue = Math.max(value, previousValue)\n          const nextValue = currentValue + 1\n          return (\n            <StackingContext.Provider value={nextValue}>\n              {children(currentValue)}\n            </StackingContext.Provider>\n          )\n        }}\n      </StackingContext.Consumer>\n    )\n  }\n}\n","let previousOverflow\nlet previousPaddingRight\n\n/**\n * Toggle the body scroll / overflow and additional styling\n * necessary to preserve scroll position and body width (scrollbar replacement)\n *\n * @param {boolean} preventScroll - whether or not to prevent body scrolling\n */\nexport default function preventBodyScroll(preventScroll) {\n  /** Get the width before toggling the style so we can calculate the scrollbar width for a smooth, jankless style change */\n  const { width } = document.body.getBoundingClientRect()\n\n  /** Apply or remove overflow style */\n  if (preventScroll) {\n    previousOverflow = document.body.style.overflow\n    document.body.style.overflow = 'hidden'\n  } else {\n    document.body.style.overflow = previousOverflow || ''\n  }\n\n  /** Get the _new width_ of the body (this will tell us the scrollbar width) */\n  const newWidth = document.body.getBoundingClientRect().width\n  const scrollBarWidth = newWidth - width\n\n  /** If there's a diff due to scrollbars, then account for it with padding */\n  if (preventScroll) {\n    previousPaddingRight = document.body.style.paddingRight\n    document.body.style.paddingRight = Math.max(0, scrollBarWidth || 0) + 'px'\n  } else {\n    document.body.style.paddingRight = previousPaddingRight || ''\n  }\n}\n","export default function safeInvoke(fn, ...args) {\n  if (typeof fn === 'function') {\n    return fn(...args)\n  }\n}\n","import cx from 'classnames'\nimport { css } from 'glamor'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport Transition from 'react-transition-group/Transition'\nimport Box from 'ui-box'\nimport { Portal } from '../../portal'\nimport { Stack } from '../../stack'\nimport { StackingOrder } from '../../constants'\nimport { withTheme } from '../../theme'\nimport safeInvoke from '../../lib/safe-invoke'\nimport preventBodyScroll from '../../lib/prevent-body-scroll'\n\nconst animationEasing = {\n  standard: `cubic-bezier(0.4, 0.0, 0.2, 1)`,\n  deceleration: `cubic-bezier(0.0, 0.0, 0.2, 1)`,\n  acceleration: `cubic-bezier(0.4, 0.0, 1, 1)`,\n  sharp: `cubic-bezier(0.4, 0.0, 0.6, 1)`,\n  spring: `cubic-bezier(0.175, 0.885, 0.320, 1.175)`\n}\n\nconst ANIMATION_DURATION = 240\n\nconst fadeInAnimation = css.keyframes('fadeInAnimation', {\n  from: {\n    opacity: 0\n  },\n  to: {\n    opacity: 1\n  }\n})\n\nconst fadeOutAnimation = css.keyframes('fadeOutAnimation', {\n  from: {\n    opacity: 1\n  },\n  to: {\n    opacity: 0\n  }\n})\n\nconst animationStyles = backgroundColor => ({\n  '&::before': {\n    backgroundColor,\n    left: 0,\n    top: 0,\n    position: 'fixed',\n    display: 'block',\n    width: '100%',\n    height: '100%',\n    content: '\" \"'\n  },\n  '&[data-state=\"entering\"]::before, &[data-state=\"entered\"]::before': {\n    animation: `${fadeInAnimation} ${ANIMATION_DURATION}ms ${\n      animationEasing.deceleration\n    } both`\n  },\n  '&[data-state=\"exiting\"]::before, &[data-state=\"exited\"]::before': {\n    animation: `${fadeOutAnimation} ${ANIMATION_DURATION}ms ${\n      animationEasing.acceleration\n    } both`\n  }\n})\n\n/**\n * Overlay is essentially a wrapper around react-transition-group/Transition\n * Learn more: https://reactcommunity.org/react-transition-group/\n */\nclass Overlay extends React.Component {\n  static propTypes = {\n    /**\n     * Children can be a node or a function accepting `close: func`\n     * and `state: ENTERING | ENTERED | EXITING | EXITED`.\n     */\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n    /**\n     * Show the component; triggers the enter or exit states.\n     */\n    isShown: PropTypes.bool,\n\n    /**\n     * Props to be passed through on the inner Box.\n     */\n    containerProps: PropTypes.object,\n\n    /**\n     * Whether or not to prevent body scrolling outside the context of the overlay\n     */\n    preventBodyScrolling: PropTypes.bool,\n\n    /**\n     * Boolean indicating if clicking the overlay should close the overlay.\n     */\n    shouldCloseOnClick: PropTypes.bool,\n\n    /**\n     * Boolean indicating if pressing the esc key should close the overlay.\n     */\n    shouldCloseOnEscapePress: PropTypes.bool,\n\n    /**\n     * Function called when overlay is about to close.\n     * Return `false` to prevent the sheet from closing.\n     * type: `Function -> Boolean`\n     */\n    onBeforeClose: PropTypes.func,\n\n    /**\n     * Callback fired before the \"exiting\" status is applied.\n     * type: `Function(node: HtmlElement) -> void`\n     */\n    onExit: PropTypes.func,\n\n    /**\n     * Callback fired after the \"exiting\" status is applied.\n     * type: `Function(node: HtmlElement) -> void`\n     */\n    onExiting: PropTypes.func,\n\n    /**\n     * Callback fired after the \"exited\" status is applied.\n     * type: `Function(exitState: Any?, node: HtmlElement) -> void`\n     */\n    onExited: PropTypes.func,\n\n    /**\n     * Callback fired before the \"entering\" status is applied.\n     * An extra parameter isAppearing is supplied to indicate if the enter stage\n     * is occurring on the initial mount.\n     *\n     * type: `Function(node: HtmlElement, isAppearing: bool) -> void`\n     */\n    onEnter: PropTypes.func,\n\n    /**\n     * Callback fired after the \"entering\" status is applied.\n     * An extra parameter isAppearing is supplied to indicate if the enter stage\n     * is occurring on the initial mount.\n     *\n     * type: `Function(node: HtmlElement, isAppearing: bool) -> void`\n     */\n    onEntering: PropTypes.func,\n\n    /**\n     * Callback fired after the \"entered\" status is applied.\n     * An extra parameter isAppearing is supplied to indicate if the enter stage\n     * is occurring on the initial mount.\n     *\n     * type: `Function(node: HtmlElement, isAppearing: bool) -> void`\n     */\n    onEntered: PropTypes.func,\n\n    /**\n     * Theme provided by ThemeProvider.\n     */\n    theme: PropTypes.object.isRequired\n  }\n\n  static defaultProps = {\n    onHide: () => {},\n    shouldCloseOnClick: true,\n    shouldCloseOnEscapePress: true,\n    preventBodyScrolling: false,\n    onExit: () => {},\n    onExiting: () => {},\n    onExited: () => {},\n    onEnter: () => {},\n    onEntering: () => {},\n    onEntered: () => {}\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      exiting: false,\n      exited: !props.isShown\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.isShown && this.props.isShown) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        exited: false\n      })\n    }\n  }\n\n  componentWillUnmount() {\n    this.handleBodyScroll(false)\n    document.body.removeEventListener('keydown', this.onEsc, false)\n  }\n\n  /**\n   * Methods borrowed from BlueprintJS\n   * https://github.com/palantir/blueprint/blob/release/2.0.0/packages/core/src/components/overlay/overlay.tsx\n   */\n  bringFocusInsideOverlay = () => {\n    // Always delay focus manipulation to just before repaint to prevent scroll jumping\n    return requestAnimationFrame(() => {\n      // Container ref may be undefined between component mounting and Portal rendering\n      // activeElement may be undefined in some rare cases in IE\n\n      if (\n        this.containerElement == null || // eslint-disable-line eqeqeq, no-eq-null\n        document.activeElement == null || // eslint-disable-line eqeqeq, no-eq-null\n        !this.props.isShown\n      ) {\n        return\n      }\n\n      const isFocusOutsideModal = !this.containerElement.contains(\n        document.activeElement\n      )\n      if (isFocusOutsideModal) {\n        // Element marked autofocus has higher priority than the other clowns\n        const autofocusElement = this.containerElement.querySelector(\n          '[autofocus]'\n        )\n        const wrapperElement = this.containerElement.querySelector('[tabindex]')\n        const buttonElement = this.containerElement.querySelector('button')\n\n        if (autofocusElement) {\n          autofocusElement.focus()\n        } else if (wrapperElement) {\n          wrapperElement.focus()\n        } else if (buttonElement) {\n          buttonElement.focus()\n        }\n      }\n    })\n  }\n\n  bringFocusBackToTarget = () => {\n    return requestAnimationFrame(() => {\n      if (\n        this.containerElement == null || // eslint-disable-line eqeqeq, no-eq-null\n        document.activeElement == null // eslint-disable-line eqeqeq, no-eq-null\n      ) {\n        return\n      }\n\n      const isFocusInsideModal = this.containerElement.contains(\n        document.activeElement\n      )\n\n      // Bring back focus on the target.\n      if (\n        this.previousActiveElement &&\n        (document.activeElement === document.body || isFocusInsideModal)\n      ) {\n        this.previousActiveElement.focus()\n      }\n    })\n  }\n\n  onEsc = e => {\n    // Esc key\n    if (e.keyCode === 27 && this.props.shouldCloseOnEscapePress) {\n      this.close()\n    }\n  }\n\n  close = () => {\n    const shouldClose = safeInvoke(this.props.onBeforeClose)\n    if (shouldClose !== false) {\n      this.setState({ exiting: true })\n    }\n  }\n\n  handleBodyScroll = preventScroll => {\n    if (this.props.preventBodyScrolling) {\n      preventBodyScroll(preventScroll)\n    }\n  }\n\n  handleEnter = () => {\n    this.handleBodyScroll(true)\n    safeInvoke(this.props.onEnter)\n  }\n\n  handleEntering = node => {\n    document.body.addEventListener('keydown', this.onEsc, false)\n    this.props.onEntering(node)\n  }\n\n  handleEntered = node => {\n    this.previousActiveElement = document.activeElement\n    this.bringFocusInsideOverlay()\n    this.props.onEntered(node)\n  }\n\n  handleExit = () => {\n    this.handleBodyScroll(false)\n    safeInvoke(this.props.onExit)\n  }\n\n  handleExiting = node => {\n    document.body.removeEventListener('keydown', this.onEsc, false)\n    this.bringFocusBackToTarget()\n    this.props.onExiting(node)\n  }\n\n  handleExited = node => {\n    this.setState({ exiting: false, exited: true })\n    this.props.onExited(node)\n  }\n\n  handleBackdropClick = e => {\n    if (e.target !== e.currentTarget || !this.props.shouldCloseOnClick) {\n      return\n    }\n\n    this.close()\n  }\n\n  onContainerRef = ref => {\n    this.containerElement = ref\n  }\n\n  render() {\n    const {\n      theme,\n\n      containerProps = {},\n      isShown,\n      children\n    } = this.props\n\n    const { exiting, exited } = this.state\n\n    if (exited) return null\n\n    return (\n      <Stack value={StackingOrder.OVERLAY}>\n        {zIndex => (\n          <Portal>\n            <Transition\n              appear\n              unmountOnExit\n              timeout={ANIMATION_DURATION}\n              in={isShown && !exiting}\n              onExit={this.handleExit}\n              onExiting={this.handleExiting}\n              onExited={this.handleExited}\n              onEnter={this.handleEnter}\n              onEntering={this.handleEntering}\n              onEntered={this.handleEntered}\n            >\n              {state => (\n                <Box\n                  onClick={this.handleBackdropClick}\n                  innerRef={this.onContainerRef}\n                  position=\"fixed\"\n                  top={0}\n                  left={0}\n                  right={0}\n                  bottom={0}\n                  zIndex={zIndex}\n                  data-state={state}\n                  {...containerProps}\n                  className={cx(\n                    containerProps.className,\n                    css(animationStyles(theme.overlayBackgroundColor)).toString()\n                  )}\n                >\n                  {typeof children === 'function'\n                    ? children({\n                        state,\n                        close: this.close\n                      })\n                    : children}\n                </Box>\n              )}\n            </Transition>\n          </Portal>\n        )}\n      </Stack>\n    )\n  }\n}\n\nexport default withTheme(Overlay)\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport Box from 'ui-box'\nimport { css } from 'glamor'\nimport { CrossIcon } from '../../icons'\nimport { Position } from '../../constants'\n\nconst animationEasing = {\n  deceleration: `cubic-bezier(0.0, 0.0, 0.2, 1)`,\n  acceleration: `cubic-bezier(0.4, 0.0, 1, 1)`\n}\n\nconst ANIMATION_DURATION = 240\n\nconst sharedStyles = {\n  padding: 4,\n  borderRadius: 9999,\n  position: 'absolute',\n  cursor: 'pointer',\n  backgroundColor: `rgba(255, 255, 255, 0.4)`,\n  transition: `background-color 120ms`,\n  '&:hover': {\n    backgroundColor: `rgba(255, 255, 255, 0.6)`\n  },\n  '&:active': {\n    backgroundColor: `rgba(255, 255, 255, 0.4)`\n  }\n}\n\nconst withAnimations = (animateIn, animateOut) => {\n  return {\n    '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n      animation: `${animateIn} ${ANIMATION_DURATION}ms ${animationEasing.deceleration} both`\n    },\n    '&[data-state=\"exiting\"]': {\n      animation: `${animateOut} ${ANIMATION_DURATION}ms ${animationEasing.acceleration} both`\n    }\n  }\n}\n\nconst sheetCloseStyles = {\n  [Position.RIGHT]: {\n    left: 0,\n    marginLeft: -12,\n    marginTop: 12,\n    transform: `translateX(-100%)`,\n    ...withAnimations(\n      css.keyframes('rotate360InAnimation', {\n        from: { transform: `translateX(100%) rotate(0deg)` },\n        to: { transform: `translateX(-100%) rotate(-360deg)` }\n      }),\n      css.keyframes('rotate360OutAnimation', {\n        from: { transform: `translateX(-100%) rotate(0deg)` },\n        to: { transform: `translateX(100%) rotate(360deg)` }\n      })\n    )\n  },\n  [Position.LEFT]: {\n    marginRight: -12,\n    right: 0,\n    marginTop: 12,\n    transform: `translateX(100%)`,\n    ...withAnimations(\n      css.keyframes('leftRotate360InAnimation', {\n        from: { transform: `translateX(-100%) rotate(0deg)` },\n        to: { transform: `translateX(100%), rotate(360deg)` }\n      }),\n      css.keyframes('leftRotate360OutAnimation', {\n        from: { transform: `translateX(100%) rotate(0deg)` },\n        to: { transform: `translateX(-100%), rotate(360deg)` }\n      })\n    )\n  },\n  [Position.TOP]: {\n    right: 0,\n    marginRight: 12,\n    top: '100%',\n    marginTop: 12,\n    transform: `translateY(0)`,\n    ...withAnimations(\n      css.keyframes('topRotate360InAnimation', {\n        from: { transform: `translateY(-200%) rotate(0deg)` },\n        to: { transform: `translateY(0%), rotate(360deg)` }\n      }),\n      css.keyframes('topRotate360OutAnimation', {\n        from: { transform: `translateY(0%) rotate(0deg)` },\n        to: { transform: `translateY(-200%), rotate(360deg)` }\n      })\n    )\n  },\n  [Position.BOTTOM]: {\n    right: 0,\n    marginRight: 12,\n    bottom: '100%',\n    marginBottom: 12,\n    transform: `translateY(0)`,\n    ...withAnimations(\n      css.keyframes('bottomRotate360InAnimation', {\n        from: { transform: `translateY(200%) rotate(0deg)` },\n        to: { transform: `translateY(0%), rotate(360deg)` }\n      }),\n      css.keyframes('bottomRotate360OutAnimation', {\n        from: { transform: `translateY(0%) rotate(0deg)` },\n        to: { transform: `translateY(200%), rotate(360deg)` }\n      })\n    )\n  }\n}\n\nconst sheetCloseClassNameCache = {}\n\nconst getSheetCloseClassName = position => {\n  if (!sheetCloseClassNameCache[position]) {\n    sheetCloseClassNameCache[position] = css({\n      ...sheetCloseStyles[position],\n      ...sharedStyles\n    }).toString()\n  }\n\n  return sheetCloseClassNameCache[position]\n}\n\nexport default class SheetClose extends PureComponent {\n  static propTypes = {\n    ...Box.propTypes,\n    isClosing: PropTypes.bool,\n    position: PropTypes.oneOf([\n      Position.LEFT,\n      Position.RIGHT,\n      Position.TOP,\n      Position.BOTTOM\n    ]).isRequired\n  }\n\n  render() {\n    const { isClosing, position, ...props } = this.props\n    return (\n      <Box\n        width={32}\n        height={32}\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        className={getSheetCloseClassName(position)}\n        {...props}\n      >\n        <CrossIcon color=\"#fff\" />\n      </Box>\n    )\n  }\n}\n","import { css } from 'glamor'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { Pane } from '../../layers'\nimport { Overlay } from '../../overlay'\nimport { Position } from '../../constants'\nimport SheetClose from './SheetClose'\n\nconst paneProps = {\n  [Position.LEFT]: {\n    height: '100vh',\n    maxWidth: '100vw',\n    position: 'absolute',\n    left: 0,\n    right: 'auto'\n  },\n  [Position.RIGHT]: {\n    height: '100vh',\n    maxWidth: '100vw',\n    position: 'absolute',\n    right: 0,\n    left: 'auto'\n  },\n  [Position.TOP]: {\n    width: '100vw',\n    position: 'absolute',\n    maxHeight: '100vh',\n    top: 0,\n    bottom: 'auto'\n  },\n  [Position.BOTTOM]: {\n    width: '100vw',\n    maxHeight: '100vh',\n    position: 'absolute',\n    bottom: 0,\n    top: 'auto'\n  }\n}\n\nconst subpaneProps = {\n  [Position.LEFT]: {\n    height: '100vh'\n  },\n  [Position.RIGHT]: {\n    height: '100vh'\n  },\n  [Position.TOP]: {\n    width: '100vw'\n  },\n  [Position.BOTTOM]: {\n    width: '100vw'\n  }\n}\n\nconst animationEasing = {\n  deceleration: `cubic-bezier(0.0, 0.0, 0.2, 1)`,\n  acceleration: `cubic-bezier(0.4, 0.0, 1, 1)`\n}\n\nconst ANIMATION_DURATION = 240\n\nconst withAnimations = (animateIn, animateOut) => {\n  return {\n    '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n      animation: `${animateIn} ${ANIMATION_DURATION}ms ${\n        animationEasing.deceleration\n      } both`\n    },\n    '&[data-state=\"exiting\"]': {\n      animation: `${animateOut} ${ANIMATION_DURATION}ms ${\n        animationEasing.acceleration\n      } both`\n    }\n  }\n}\n\nconst animationStylesClass = {\n  [Position.LEFT]: {\n    transform: `translateX(-100%)`,\n    ...withAnimations(\n      css.keyframes('anchoredLeftSlideInAnimation', {\n        from: { transform: `translateX(-100%)` },\n        to: { transform: `translateX(0)` }\n      }),\n      css.keyframes('anchoredLeftSlideOutAnimation', {\n        from: { transform: `translateX(0)` },\n        to: { transform: `translateX(-100%)` }\n      })\n    )\n  },\n  [Position.RIGHT]: {\n    transform: `translateX(100%)`,\n    ...withAnimations(\n      css.keyframes('anchoredRightSlideInAnimation', {\n        from: { transform: `translateX(100%)` },\n        to: { transform: `translateX(0)` }\n      }),\n      css.keyframes('anchoredRightSlideOutAnimation', {\n        from: { transform: `translateX(0)` },\n        to: { transform: `translateX(100%)` }\n      })\n    )\n  },\n  [Position.TOP]: {\n    transform: `translateY(-100%)`,\n    ...withAnimations(\n      css.keyframes('anchoredTopSlideInAnimation', {\n        from: { transform: `translateY(-100%)` },\n        to: { transform: `translateY(0)` }\n      }),\n      css.keyframes('anchoredTopSlideOutAnimation', {\n        from: { transform: `translateY(0)` },\n        to: { transform: `translateY(-100%)` }\n      })\n    )\n  },\n  [Position.BOTTOM]: {\n    transform: `translateY(100%)`,\n    ...withAnimations(\n      css.keyframes('anchoredBottomSlideInAnimation', {\n        from: { transform: `translateY(100%)` },\n        to: { transform: `translateY(0)` }\n      }),\n      css.keyframes('anchoredBottomSlideOutAnimation', {\n        from: { transform: `translateY(0)` },\n        to: { transform: `translateY(100%)` }\n      })\n    )\n  }\n}\n\nclass SideSheet extends React.Component {\n  static propTypes = {\n    /**\n     * Children can be a string, node or a function accepting `({ close })`.\n     */\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n    /**\n     * When true, the Side Sheet is shown.\n     */\n    isShown: PropTypes.bool,\n\n    /**\n     * Function that will be called when the exit transition is complete.\n     */\n    onCloseComplete: PropTypes.func,\n\n    /**\n     * Function that will be called when the enter transition is complete.\n     */\n    onOpenComplete: PropTypes.func,\n\n    /**\n     * Function called when overlay is about to close.\n     * Return `false` to prevent the sheet from closing.\n     * type: `Function -> Boolean`\n     */\n    onBeforeClose: PropTypes.func,\n\n    /**\n     * Boolean indicating if clicking the overlay should close the overlay.\n     */\n    shouldCloseOnOverlayClick: PropTypes.bool,\n\n    /**\n     * Boolean indicating if pressing the esc key should close the overlay.\n     */\n    shouldCloseOnEscapePress: PropTypes.bool,\n\n    /**\n     * Width of the SideSheet.\n     */\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\n    /**\n     * Properties to pass through the SideSheet container Pane.\n     */\n    containerProps: PropTypes.object,\n\n    /**\n     * Positions the sheet to the top, left, right, or bottom of the screen.\n     */\n    position: PropTypes.oneOf([\n      Position.TOP,\n      Position.BOTTOM,\n      Position.LEFT,\n      Position.RIGHT\n    ]).isRequired,\n\n    /**\n     * Whether or not to prevent scrolling in the outer body\n     */\n    preventBodyScrolling: PropTypes.bool\n  }\n\n  static defaultProps = {\n    width: 620,\n    onCloseComplete: () => {},\n    onOpenComplete: () => {},\n    shouldCloseOnOverlayClick: true,\n    shouldCloseOnEscapePress: true,\n    position: Position.RIGHT\n  }\n\n  render() {\n    const {\n      width,\n      isShown,\n      children,\n      containerProps,\n      onOpenComplete,\n      onCloseComplete,\n      onBeforeClose,\n      shouldCloseOnOverlayClick,\n      shouldCloseOnEscapePress,\n      position,\n      preventBodyScrolling\n    } = this.props\n\n    return (\n      <Overlay\n        isShown={isShown}\n        shouldCloseOnClick={shouldCloseOnOverlayClick}\n        shouldCloseOnEscapePress={shouldCloseOnEscapePress}\n        onBeforeClose={onBeforeClose}\n        onExited={onCloseComplete}\n        onEntered={onOpenComplete}\n        preventBodyScrolling={preventBodyScrolling}\n      >\n        {({ state, close }) => (\n          <Pane\n            width={width}\n            {...paneProps[position]}\n            css={animationStylesClass[position]}\n            data-state={state}\n          >\n            <SheetClose\n              position={position}\n              data-state={state}\n              isClosing={false}\n              onClick={close}\n            />\n            <Pane\n              elevation={4}\n              backgroundColor=\"white\"\n              overflowY=\"auto\"\n              maxHeight=\"100vh\"\n              data-state={state}\n              width={width}\n              {...subpaneProps[position]}\n              {...containerProps}\n            >\n              {typeof children === 'function' ? children({ close }) : children}\n            </Pane>\n          </Pane>\n        )}\n      </Overlay>\n    )\n  }\n}\n\nexport default SideSheet\n"],"sourceRoot":""}