{"version":3,"sources":["pages/distributor/add.js","pages/distributor/index.js"],"names":["AddDistributor","user","fetch","data","setData","useState","loading","setLoading","handleSubmit","e","a","preventDefault","post","id","JSON","parse","results","toaster","success","description","warning","response","error","onSubmit","className","htmlFor","value","rows","disabled","type","DistributorComponent","props","show","setShow","userData","setUserData","localStorage","getItem","fetchDistributor","distribution","console","log","useEffect","onClick","style","cursor","height","width","display","alignItems","justifyContent","Spinner","SideSheet","isShown","onCloseComplete"],"mappings":"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","file":"static/js/17.d76fbce8.chunk.js","sourcesContent":["import React, { Fragment, useState } from \"react\";\nimport { post } from \"../../components/auth/transport\";\nimport { toaster } from \"evergreen-ui\";\n\nconst AddDistributor = ({ user, fetch, data, setData }) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      let results = await post(\"/addDistributor\", {\n        id: JSON.parse(user).id,\n      });\n      setLoading(false);\n      await fetch();\n      toaster.success(\"Hurray\", {\n        description: \"Distribution added successfully\",\n      });\n      setData({\n        ...data,\n        [results?.data?.data.id]: results?.data?.data,\n      });\n    } catch (e) {\n      toaster.warning(\"Error\", {\n        description: e.response.data.error,\n      });\n    }\n  };\n\n  return (\n    <Fragment>\n      <form onSubmit={handleSubmit}>\n        <div className=\"mt-6 mx-3 grid grid-cols-1 row-gap-6 col-gap-4 sm:grid-cols-6\">\n          <div className=\"sm:col-span-6\">\n            <label\n              htmlFor=\"country\"\n              className=\"block text-sm font-medium leading-5 text-gray-700\"\n            >\n              Assets\n            </label>\n            <div className=\"mt-1 rounded-md shadow-sm\">\n              <select\n                id=\"country\"\n                className=\"form-select block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\n              >\n                <option value={\"\"}>Please select</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"sm:col-span-6\">\n            <label\n              htmlFor=\"country\"\n              className=\"block text-sm font-medium leading-5 text-gray-700\"\n            >\n              Beneficiary\n            </label>\n            <div className=\"mt-1 rounded-md shadow-sm\">\n              <select\n                id=\"country\"\n                className=\"form-select block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\n              >\n                <option value={\"\"}>Please select</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"sm:col-span-6\">\n            <label\n              htmlFor=\"last_name\"\n              className=\"block text-sm font-medium leading-5 text-gray-700\"\n            >\n              Distribution Condition\n            </label>\n            <div className=\"mt-1 rounded-md shadow-sm\">\n              <textarea\n                rows={5}\n                className=\"form-input block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\n              ></textarea>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white my-5 pt-2 border-t mx-3 border-gray-200 flex justify-end \">\n          <button\n            disabled={loading}\n            type=\"submit\"\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-light rounded-md text-white bg-blue-500 hover:bg-blue-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-600 active:bg-blue-600 transition duration-150 ease-in-out\"\n          >\n            {loading ? \"Adding...\" : \"Submit\"}\n          </button>\n        </div>\n      </form>\n    </Fragment>\n  );\n};\n\nexport default AddDistributor;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { post } from \"../../components/auth/transport\";\nimport { SideSheet, Spinner } from \"evergreen-ui\";\n// import AddBeneficiaryComponent from \"../beneficiary/add\";\nimport AddDistributor from \"./add\";\n\nconst DistributorComponent = (props) => {\n  const [show, setShow] = useState(false);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [userData, setUserData] = useState(null);\n  const [user] = useState(localStorage.getItem(\"eaze-token\"));\n\n  const fetchDistributor = async () => {\n    try {\n      setLoading(true);\n      let results = await post(\"/fetchUser\", {\n        id: JSON.parse(user).id,\n      });\n      setLoading(false);\n      setUserData(results?.data?.data);\n      setData(results.data?.data?.distribution);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  // console.log(userData);\n\n  useEffect(() => {\n    (async () => {\n      if (user) {\n        await fetchDistributor();\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  return (\n    <Fragment>\n      <header className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n          <h1 className=\"text-3xl font-bold leading-tight text-gray-900\">\n            Asset Distributor Information\n          </h1>\n        </div>\n      </header>\n      <main>\n        <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n          <div\n            onClick={() => {\n              setShow(true);\n            }}\n            style={{ cursor: \"pointer\" }}\n            className={\n              \"w-full bg-gray-100 flex font-light text-sm hover:bg-gray-200 justify-center items-center p-3\"\n            }\n          >\n            Add New Distribution\n          </div>\n          {loading ? (\n            <Fragment>\n              <div\n                style={{\n                  height: \"50vh\",\n                  width: \"100%\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <Spinner />\n              </div>\n            </Fragment>\n          ) : (\n            <Fragment>\n              {!data ? (\n                <Fragment>\n                  <div\n                    style={{\n                      height: \"50vh\",\n                      width: \"100%\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                    }}\n                  >\n                    No data...\n                  </div>\n                </Fragment>\n              ) : (\n                <Fragment>vkbv</Fragment>\n              )}\n            </Fragment>\n          )}\n        </div>\n      </main>\n      <SideSheet\n        isShown={show}\n        width={400}\n        onCloseComplete={() => {\n          setShow(false);\n        }}\n      >\n        <Fragment>\n          <div className=\"md:flex md:items-center md:justify-between border-b p-5\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-1xl font-medium leading-7 text-gray-500 sm:leading-9 sm:truncate\">\n                Add New Distributor\n              </p>\n            </div>\n            <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n              <span className=\"shadow-sm rounded-md lg:hidden sm:block\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShow(false);\n                  }}\n                  className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out\"\n                >\n                  Close\n                </button>\n              </span>\n            </div>\n          </div>\n          <div>\n            <AddDistributor\n              fetch={fetchDistributor}\n              data={data && data}\n              setData={setData}\n              user={user && user}\n              userData={userData}\n            />\n          </div>\n        </Fragment>\n      </SideSheet>\n    </Fragment>\n  );\n};\n\nexport default DistributorComponent;\n"],"sourceRoot":""}