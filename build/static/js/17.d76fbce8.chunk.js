(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{243:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n),l=a(35),s=a(16),c=a(0),i=a.n(c),o=a(36),m=a(198),u=a(244),d=a(56),b=a(55),f=a(189),g=function(e){var t=e.user,a=e.fetch,n=e.data,m=e.setData,u=Object(c.useState)(!1),g=Object(s.a)(u,2),p=g[0],x=g[1],v=function(){var e=Object(l.a)(r.a.mark((function e(l){var s,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.preventDefault(),e.prev=1,x(!0),e.next=5,Object(o.a)("/addDistributor",{id:JSON.parse(t).id});case 5:return i=e.sent,x(!1),e.next=9,a();case 9:f.a.success("Hurray",{description:"Distribution added successfully"}),m(Object(b.a)({},n,Object(d.a)({},null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.data.id,null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.data))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f.a.warning("Error",{description:e.t0.response.data.error});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(c.Fragment,null,i.a.createElement("form",{onSubmit:v},i.a.createElement("div",{className:"mt-6 mx-3 grid grid-cols-1 row-gap-6 col-gap-4 sm:grid-cols-6"},i.a.createElement("div",{className:"sm:col-span-6"},i.a.createElement("label",{htmlFor:"country",className:"block text-sm font-medium leading-5 text-gray-700"},"Assets"),i.a.createElement("div",{className:"mt-1 rounded-md shadow-sm"},i.a.createElement("select",{id:"country",className:"form-select block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5"},i.a.createElement("option",{value:""},"Please select")))),i.a.createElement("div",{className:"sm:col-span-6"},i.a.createElement("label",{htmlFor:"country",className:"block text-sm font-medium leading-5 text-gray-700"},"Beneficiary"),i.a.createElement("div",{className:"mt-1 rounded-md shadow-sm"},i.a.createElement("select",{id:"country",className:"form-select block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5"},i.a.createElement("option",{value:""},"Please select")))),i.a.createElement("div",{className:"sm:col-span-6"},i.a.createElement("label",{htmlFor:"last_name",className:"block text-sm font-medium leading-5 text-gray-700"},"Distribution Condition"),i.a.createElement("div",{className:"mt-1 rounded-md shadow-sm"},i.a.createElement("textarea",{rows:5,className:"form-input block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5"})))),i.a.createElement("div",{className:"bg-white my-5 pt-2 border-t mx-3 border-gray-200 flex justify-end "},i.a.createElement("button",{disabled:p,type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-light rounded-md text-white bg-blue-500 hover:bg-blue-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-600 active:bg-blue-600 transition duration-150 ease-in-out"},p?"Adding...":"Submit"))))};t.default=function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],d=a[1],b=Object(c.useState)(null),f=Object(s.a)(b,2),p=f[0],x=f[1],v=Object(c.useState)(!1),h=Object(s.a)(v,2),E=h[0],y=h[1],w=Object(c.useState)(null),N=Object(s.a)(w,2),j=N[0],O=N[1],k=Object(c.useState)(localStorage.getItem("eaze-token")),S=Object(s.a)(k,1)[0],D=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Object(o.a)("/fetchUser",{id:JSON.parse(S).id});case 4:l=e.sent,y(!1),O(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data),x(null===(a=l.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.distribution),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=3;break}return e.next=3,D();case 3:case"end":return e.stop()}}),e)})))()}),[S]),i.a.createElement(c.Fragment,null,i.a.createElement("header",{className:"bg-white shadow"},i.a.createElement("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},i.a.createElement("h1",{className:"text-3xl font-bold leading-tight text-gray-900"},"Asset Distributor Information"))),i.a.createElement("main",null,i.a.createElement("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},i.a.createElement("div",{onClick:function(){d(!0)},style:{cursor:"pointer"},className:"w-full bg-gray-100 flex font-light text-sm hover:bg-gray-200 justify-center items-center p-3"},"Add New Distribution"),E?i.a.createElement(c.Fragment,null,i.a.createElement("div",{style:{height:"50vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(m.a,null))):i.a.createElement(c.Fragment,null,p?i.a.createElement(c.Fragment,null,"vkbv"):i.a.createElement(c.Fragment,null,i.a.createElement("div",{style:{height:"50vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},"No data..."))))),i.a.createElement(u.a,{isShown:n,width:400,onCloseComplete:function(){d(!1)}},i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"md:flex md:items-center md:justify-between border-b p-5"},i.a.createElement("div",{className:"flex-1 min-w-0"},i.a.createElement("p",{className:"text-1xl font-medium leading-7 text-gray-500 sm:leading-9 sm:truncate"},"Add New Distributor")),i.a.createElement("div",{className:"mt-4 flex md:mt-0 md:ml-4"},i.a.createElement("span",{className:"shadow-sm rounded-md lg:hidden sm:block"},i.a.createElement("button",{type:"button",onClick:function(){d(!1)},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out"},"Close")))),i.a.createElement("div",null,i.a.createElement(g,{fetch:D,data:p&&p,setData:x,user:S&&S,userData:j})))))}}}]);
//# sourceMappingURL=17.d76fbce8.chunk.js.map